# dt-toolbox Environment Configuration Example
# Copy this file to .env and fill in your values

# ============================================================================
# BASIC CONFIGURATION
# ============================================================================

# Application name (used for log directory and identification)
DTB_APP_NAME="my_data_app"

# Owner email address (required)
DTB_OWNER="data-team@company.com"

# Log directory (default: logs/)
DTB_LOG_DIR="logs"

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
DTB_LOG_LEVEL="INFO"

# Tags for categorization (comma-separated)
DTB_TAGS="production,etl,daily"

# ============================================================================
# SMTP EMAIL NOTIFICATIONS
# ============================================================================

# SMTP server configuration
DTB_SMTP_HOST="smtp.gmail.com"
DTB_SMTP_PORT="587"
DTB_SMTP_USER="alerts@company.com"
DTB_SMTP_PASSWORD="your-smtp-password-here"
DTB_SMTP_USE_TLS="true"

# Notification recipients (comma-separated emails)
DTB_RECIPIENTS="data-team@company.com,alerts@company.com"

# Notify on successful execution (default: false)
DTB_NOTIFY_ON_SUCCESS="false"

# ============================================================================
# WEBHOOK NOTIFICATIONS (Slack/Google Chat)
# ============================================================================

# Webhook URL for Slack or Google Chat
# Slack example: https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# Google Chat example: https://chat.googleapis.com/v1/spaces/YOUR_SPACE/messages?key=YOUR_KEY
DTB_WEBHOOK_URL="https://hooks.example.com/your-webhook-url-here"

# Webhook type: "slack" or "gchat"
DTB_WEBHOOK_TYPE="slack"

# ============================================================================
# LOG STORAGE (S3/MinIO)
# ============================================================================

# Enable log upload to cloud storage
DTB_STORAGE_ENABLED="false"

# Storage backend: "s3", "minio", or "local"
DTB_STORAGE_BACKEND="s3"

# Bucket name for log storage
DTB_STORAGE_BUCKET="company-logs"

# Prefix/folder for logs in bucket
DTB_STORAGE_PREFIX="dt-toolbox"

# Upload threshold in KB (logs larger than this will be uploaded)
DTB_UPLOAD_THRESHOLD_KB="200"

# ============================================================================
# AWS S3 CONFIGURATION
# ============================================================================

# AWS credentials (required if using S3 storage)
DTB_AWS_ACCESS_KEY_ID="your-aws-access-key-id"
DTB_AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
DTB_AWS_REGION="us-east-1"

# ============================================================================
# MinIO CONFIGURATION
# ============================================================================

# MinIO endpoint (required if using MinIO storage)
DTB_MINIO_ENDPOINT="https://minio.company.com:9000"
DTB_MINIO_ACCESS_KEY="your-minio-access-key"
DTB_MINIO_SECRET_KEY="your-minio-secret-key"

# ============================================================================
# PII REDACTION
# ============================================================================

# Enable automatic PII redaction in logs
DTB_REDACTION_ENABLED="true"

# Custom redaction patterns (comma-separated regex patterns)
# Default patterns already cover: passwords, API keys, SSN, credit cards
# DTB_REDACTION_PATTERNS="pattern1,pattern2"

# Replacement text for redacted content
# DTB_REDACTION_REPLACEMENT="***REDACTED***"

# ============================================================================
# ADVANCED CONFIGURATION
# ============================================================================

# Run ID (auto-generated if not provided)
# DTB_RUN_ID=""

# Trace ID (auto-generated if not provided)
# DTB_TRACE_ID=""

# Log format: "json" or "text"
# DTB_LOG_FORMAT="json"

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# Example 1: Basic setup with email notifications
# DTB_APP_NAME="etl_orders"
# DTB_OWNER="data-team@company.com"
# DTB_SMTP_HOST="smtp.gmail.com"
# DTB_SMTP_USER="alerts@company.com"
# DTB_SMTP_PASSWORD="app-specific-password"
# DTB_RECIPIENTS="team@company.com"

# Example 2: Production setup with S3 and Slack
# DTB_APP_NAME="pipeline_production"
# DTB_OWNER="ops@company.com"
# DTB_TAGS="production,critical"
# DTB_WEBHOOK_URL="https://hooks.slack.com/services/..."
# DTB_WEBHOOK_TYPE="slack"
# DTB_STORAGE_ENABLED="true"
# DTB_STORAGE_BACKEND="s3"
# DTB_STORAGE_BUCKET="prod-logs"
# DTB_AWS_REGION="eu-west-1"

# Example 3: Development setup with local storage only
# DTB_APP_NAME="dev_testing"
# DTB_OWNER="dev@company.com"
# DTB_LOG_LEVEL="DEBUG"
# DTB_NOTIFY_ON_SUCCESS="true"
# DTB_STORAGE_ENABLED="true"
# DTB_STORAGE_BACKEND="local"

# ============================================================================
# NOTES
# ============================================================================

# 1. Never commit the actual .env file with real credentials to version control
# 2. Use environment-specific .env files (.env.dev, .env.prod) as needed
# 3. For production, consider using a secrets manager instead of .env files
# 4. Priority order: function arguments > environment variables > config file
# 5. Boolean values should be "true" or "false" (case-insensitive)
# 6. Comma-separated values should not have spaces after commas
